<!DOCTYPE html>
<html>
<head>
    <title>OpenClaw Charts Skill</title>
    <script src="https://unpkg.com/lightweight-charts/dist/lightweight-charts.standalone.production.js"></script>
</head>
<body style="background: #131722; color: white; font-family: sans-serif;">
    <div id="chart" style="width: 100%; height: 80vh;"></div>
    <script>
        const chart = LightweightCharts.createChart(document.getElementById('chart'), {
            width: window.innerWidth,
            height: window.innerHeight * 0.8,
            layout: { backgroundColor: '#131722', textColor: '#d1d4dc' },
            grid: { vertLines: { color: '#2B2B43' }, horzLines: { color: '#2B2B43' } },
        });

        const candleSeries = chart.addCandlestickSeries();

        // Fetch data from our Python API
        fetch('/api/data/DJ-DJI')
            .then(res => res.json())
            .then(data => {
                candleSeries.setData(data.candles);
                candleSeries.setMarkers(data.markers);
            });

        window.onresize = () => {
            chart.applyOptions({ width: window.innerWidth });
        };
    </script>
</body>
</html>
